<div class="container mb-5">
    <h2 class="p-2">Teklifleri Karşılaştır</h2>
</div>
@if(tableData) {
    <p-table [value]="tableData" [columns]="colNames"  [reorderableColumns]="true" [tableStyle]="tableStyle" styleClass="p-datatable-striped">
        <!-- <ng-template pTemplate="caption">
            <p-multiSelect 
                display="chip" 
                [options]="columns" 
                [(ngModel)]="selectedColumns" 
                optionLabel="header"
                selectedItemsLabel="{0} columns selected" 
                [style]="{'min-width': '200px'}" 
                placeholder="Choose Columns" />
        </ng-template> -->
        <ng-template pTemplate="header">
            <tr>
                @for(column of columns; track column; let i =$index) {
                    @if(column.isBirim || column.isToplam) {
                        <th [attr.colspan]="bidsCountArray.length"> {{column.header}} </th>
                    }
                    @else {
                         <!-- <th [pSortableColumn]="column.field">{{ i===0 ?  'Poz No' : column.header }}  
                            <p-sortIcon [field]="column.field"></p-sortIcon>
                        </th>  -->
                        <th></th>
                    }
                    
                }
            </tr>
            <tr>
               @for(col of colNames; track col; let i=$index) {
                <th pReorderableColumn> {{ col==='key' ? 'Poz No' : col}} </th>
               }
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row let-columns="colNames">
            <tr>
                @for(col of colNames; track col) {
                    <td> {{row[col]}} </td>
                }
            </tr>
        </ng-template>
    </p-table>
}
